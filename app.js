!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class a{static getFrame(e){const t=document.createElement("div");t.setAttribute("class","frame");const n=document.createElement("div");n.setAttribute("class","frame-number"),n.innerText=e;const a=document.createElement("div");a.setAttribute("class","delete-frame");const s=document.createElement("div");s.setAttribute("class","copy-frame");const i=document.createElement("canvas");return i.setAttribute("class","frame-canvas"),i.setAttribute("height","500"),i.setAttribute("width","500"),t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(i),t}static getElem(e){return document.querySelector(e)}static updateFrameNumbers(){let e=1;[...a.getElem(".frames-wrapper").children].map(e=>[...e.children].filter(e=>e.classList.contains("frame-number"))).flat().forEach(t=>{t.innerText=e,e+=1})}}class s{static start(){const{body:e}=document;e.innerHTML='\n        <div class="landing-page">\n            <section class="overview">\n                <h2 class="overview-title">Functionality overview</h2>\n                <ul class="overview-ul">\n                    <li>Tools\n                        <ul class="tools-ul">\n                            <li>Pen: 3 sizes</li>\n                            <li>Color Select</li>\n                        </ul>\n                    </li>\n                    <li>Preview\n                        <ul class="preview-ul">\n                            <li>Small animation preview window in the top right corner</li>\n                            <li>Full screen mode</li>\n                        </ul>\n                    </li>\n                    <li>Frames\n                        <ul class="frames-ul">\n                            <li>Ability to add/delete a frame</li>\n                            <li>Ability to duplicate a frame</li>\n                        </ul>\n                    </li>\n                </ul>\n            </section>\n            <section class="btn-screenshot-gifs">\n                <button class="create-sprite-btn">create sprite</button>\n                <div class="screenshot"></div>\n                <div class="gifs">\n                    <div class="gif gif-bat"></div>\n                    <div class="gif gif-cat"></div>\n                </div>\n            </section>\n            <section class="about-author">\n                <h4 class="about-author-title">Developed by\n                    <a class="about-author-link" href="https://github.com/ra44o/" target="_blank">Artem Rak</a>\n                </h4>\n            </section>\n        </div>\n        <div class="content-wrapper">\n            <header class="header">\n                <div class="menu-button"></div>\n                <h1 class="header-h1">Piskel Clone</h1>\n                <div class="context-menu"></div>\n            </header>\n            <main class="main">\n                <section class="tools-wrapper">\n                    <div class="pen-sizes">\n                        <span class="pen-sizes__title">Pen\'s sizes</span>\n                        <div class="pen-sizes__10 active-pen"></div>\n                        <div class="pen-sizes__25"></div>\n                        <div class="pen-sizes__40"></div>\n                    </div>\n                    <div class="colors-wrapper">\n                        <label for="custom-color">Choose color</label>\n                        <input class="custom-color" type="color" id="custom-color">\n                        <div class="current-color"></div>\n                        <div class="previous-color"></div>\n                    </div>\n                </section>\n                <section class="frames-wrapper">\n                    <button class="new-frame-button">Add new frame</button>\n                </section>\n                <section class="canvas-wrapper">\n                    <canvas class="main-canvas" height="500" width="500"></canvas>\n                </section>\n                <section class="preview-wrapper">\n                    <div class="animation">\n                        <canvas class="animation-canvas" height="500" width="500"></canvas>\n                    </div>\n                    <input class="range" type="range" min="1" max="24" step="1" value="0">\n                    <div class="tooltip">1 fps</div>\n                    <button class="full-screen-button">Full screen</button>\n                </section>\n            </main>\n        </div>\n    ';const t=document.querySelector(".new-frame-button"),n=document.querySelector(".frames-wrapper"),s=a.getFrame(1);s.classList.add("active-frame"),n.insertBefore(s,t)}}!function(){s.start();const e=a.getElem(".range"),t=a.getElem(".tooltip"),n=a.getElem(".main-canvas"),i=a.getElem(".frames-wrapper"),r=a.getElem(".full-screen-button"),l=a.getElem(".animation-canvas"),c=a.getElem(".tools-wrapper"),o=a.getElem(".current-color"),d=a.getElem(".previous-color"),u=a.getElem("#custom-color"),v=a.getElem(".create-sprite-btn"),m=n.getContext("2d");function p(e,t){[...t.children].forEach(t=>{t.classList.contains(e)&&t.classList.remove(e)})}function f(e,t){const n=e.getContext("2d").getImageData(0,0,500,500);t.getContext("2d").putImageData(n,0,0,0,0,500,500)}let g;function b(e){const t=[...a.getElem(".frames-wrapper").children].slice(0,-1).map(e=>[...e.children]).flat().filter(e=>"CANVAS"===e.tagName);void 0!==g&&clearInterval(g);let n=0;g=setInterval(function(){n>=t.length&&(n=0),f(t[n],l),n+=1},1e3/e)}let h=10,y=10;function w(e){return window.getComputedStyle(e).backgroundColor}e.addEventListener("change",e=>{t.innerText=`${e.target.value} fps`,b(e.target.value)});let E=!1;n.addEventListener("mousedown",()=>{E=!0}),n.addEventListener("mouseup",()=>{E=!1,m.beginPath();const t=a.getElem(".frames-wrapper").querySelector(".active-frame").querySelector("canvas");f(n,t),b(e.value)}),n.addEventListener("mousemove",e=>{E&&function(e,t){m.beginPath(),m.rect(e,t,y,h),m.fill(),m.beginPath(),m.moveTo(e,t)}(e.pageX-n.parentNode.offsetLeft,e.pageY-n.parentNode.offsetTop)}),i.addEventListener("click",t=>{const s=t.target;if(s.classList.contains("frame")||s.classList.contains("frame-canvas"))p("active-frame",a.getElem(".frames-wrapper")),s.classList.contains("frame-canvas")?(s.parentNode.classList.add("active-frame"),f(s,n)):(s.classList.add("active-frame"),f(s.querySelector("canvas"),n)),b(e.value);else if(s.classList.contains("new-frame-button")){const t=a.getFrame(i.children.length);i.insertBefore(t,s),b(e.value)}else if(s.classList.contains("delete-frame")){if(i.children.length<3){s.parentNode.classList.add("active-frame");const t=s.parentNode.querySelector("canvas");return t.getContext("2d").clearRect(0,0,500,500),f(t,n),void b(e.value)}i.removeChild(s.parentNode),a.updateFrameNumbers(),b(e.value)}else if(s.classList.contains("copy-frame")){const t=s.parentNode.querySelector("canvas"),n=s.parentNode.cloneNode(!0);f(t,n.querySelector("canvas")),i.insertBefore(n,s.parentNode.nextSibling),s.parentNode.classList.remove("active-frame"),a.updateFrameNumbers(),b(e.value)}}),r.addEventListener("click",()=>{l.webkitRequestFullScreen(),l.style.backgroundColor="#ffffff"}),c.addEventListener("click",e=>{const t=e.target;if(t.classList.contains("pen-sizes__10"))p("active-pen",t.parentNode),h=10,y=10,t.classList.add("active-pen");else if(t.classList.contains("pen-sizes__25"))p("active-pen",t.parentNode),h=25,y=25,t.classList.add("active-pen");else if(t.classList.contains("pen-sizes__40"))p("active-pen",t.parentNode),h=40,y=40,t.classList.add("active-pen");else if(t===d){const e=w(o);o.style.backgroundColor=w(d),m.fillStyle=w(d),d.style.backgroundColor=e}}),u.addEventListener("change",e=>{d.style.backgroundColor=w(o),o.style.backgroundColor=e.target.value,m.fillStyle=e.target.value}),v.addEventListener("click",()=>{document.body.removeChild(a.getElem(".landing-page"))})}()}]);